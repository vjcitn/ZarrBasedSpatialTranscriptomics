[{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Zarr-based spatial transcriptomics overview","text":"Open Microscopy Environment “next-generation file format” initiative (OME-NGFF) driven substantial software development scverse community. vignette describes R-based software developed convey spatial omics solutions investigators using NHGRI AnVIL.","code":""},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"package-facts","dir":"Articles","previous_headings":"","what":"Package facts","title":"Zarr-based spatial transcriptomics overview","text":"use two packages developed team assembled 2024 hackathon Basel, led Helena Crowell.","code":"library(SpatialData) library(SpatialData.plot) library(SpatialData.data) library(patchwork) library(ggplot2) library(sf) utils::data(demo_spatialdata) DT::datatable(demo_spatialdata)"},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"example-1-merfish","dir":"Articles","previous_headings":"","what":"Example 1: MERFISH","title":"Zarr-based spatial transcriptomics overview","text":"Example datasets retrieved cloud storage needed cached locally. persistent use, target parameter can used, populated Zarr store.","code":""},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"acquisition-and-persistence-folder-layout","dir":"Articles","previous_headings":"Example 1: MERFISH","what":"Acquisition and persistence; folder layout","title":"Zarr-based spatial transcriptomics overview","text":"continue working MERFISH archive, set target parameter MouseBrainMERFISH use readSpatialData.","code":"mb = MouseBrainMERFISH() mb ## class: SpatialData ## - images(1): ##   - rasterized (1,522,575) ## - labels(0): ## - points(1): ##   - single_molecule (3714642) ## - shapes(2): ##   - anatomical (6,polygon) ##   - cells (2389,circle) ## - tables(1): ##   - table (268,2389) ## coordinate systems: ## - global(4): rasterized anatomical cells single_molecule"},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"exhibiting-the-image","dir":"Articles","previous_headings":"Example 1: MERFISH","what":"Exhibiting the image","title":"Zarr-based spatial transcriptomics overview","text":"default, raw image displayed coarsest level resolution.","code":"plotSpatialData() + plotImage(mb) ## Scale for y is already present. ## Adding another scale for y, which will replace the existing scale."},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"cells-and-their-coordinates","dir":"Articles","previous_headings":"Example 1: MERFISH","what":"Cells and their coordinates","title":"Zarr-based spatial transcriptomics overview","text":"assay, cells described circle given center radius. Coordinates different components spatial data can require transformation located viewed together.  see need transformation rasterized image shown plotImage, bring global coordinates shared modes.","code":"shape(mb,2)@data |> sf::st_as_sf() ## Simple feature collection with 2389 features and 2 fields ## Geometry type: POINT ## Dimension:     XY ## Bounding box:  xmin: 1161.113 ymin: 4556.133 xmax: 3196.913 ymax: 6837.183 ## CRS:           NA ## First 10 features: ##       radius cell_id                  geometry ## 1   7.358295       0 POINT (1161.113 6178.383) ## 2   8.108447       1 POINT (1162.913 6113.133) ## 3   7.667168       2 POINT (1168.313 6046.083) ## 4   5.276907       3 POINT (1163.813 6202.683) ## 5   7.035876       4 POINT (1166.963 6083.883) ## 6   8.617153       5 POINT (1171.463 6151.383) ## 7   8.281488       6 POINT (1173.263 6206.733) ## 8   8.060609       7 POINT (1184.063 6221.583) ## 9  10.104508       8 POINT (1193.963 6186.483) ## 10  7.866349       9 POINT (1197.113 6076.683) plotCoordGraph(CTgraph(mb))"},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"visualizing-the-cells-and-annotation","dir":"Articles","previous_headings":"Example 1: MERFISH","what":"Visualizing the cells and annotation","title":"Zarr-based spatial transcriptomics overview","text":"two types shape recorded data: partitioning plane anatomical layers, (circular) segmentation individual cells.","code":"plotSpatialData() + plotShape(mb) + ggtitle(\"anatomy\") |    plotSpatialData() + plotShape(mb) +       plotShape(mb,2, c=\"gray\") + ggtitle(\"cells and anatomy\")"},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"transcripts-and-their-locations","dir":"Articles","previous_headings":"Example 1: MERFISH","what":"Transcripts and their locations","title":"Zarr-based spatial transcriptomics overview","text":"","code":"shape(mb,2)@data |> sf::st_as_sf() ## Simple feature collection with 2389 features and 2 fields ## Geometry type: POINT ## Dimension:     XY ## Bounding box:  xmin: 1161.113 ymin: 4556.133 xmax: 3196.913 ymax: 6837.183 ## CRS:           NA ## First 10 features: ##       radius cell_id                  geometry ## 1   7.358295       0 POINT (1161.113 6178.383) ## 2   8.108447       1 POINT (1162.913 6113.133) ## 3   7.667168       2 POINT (1168.313 6046.083) ## 4   5.276907       3 POINT (1163.813 6202.683) ## 5   7.035876       4 POINT (1166.963 6083.883) ## 6   8.617153       5 POINT (1171.463 6151.383) ## 7   8.281488       6 POINT (1173.263 6206.733) ## 8   8.060609       7 POINT (1184.063 6221.583) ## 9  10.104508       8 POINT (1193.963 6186.483) ## 10  7.866349       9 POINT (1197.113 6076.683)"},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"quantifications-of-transcript-abundance-in-cells","dir":"Articles","previous_headings":"Example 1: MERFISH","what":"Quantifications of transcript abundance in cells","title":"Zarr-based spatial transcriptomics overview","text":"experiment measurements 268 molecular features.","code":"SpatialData::table(mb) ## class: SingleCellExperiment  ## dim: 268 2389  ## metadata(0): ## assays(1): X ## rownames(268): 1700022I11Rik 1810046K07Rik ... Wnt7b Zfp804b ## rowData names(0): ## colnames(2389): 0 1 ... 2397 2398 ## colData names(2): cell_id region ## reducedDimNames(0): ## mainExpName: NULL ## altExpNames(0):"},{"path":[]},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"acquisition","dir":"Articles","previous_headings":"Example 2: Breast cancer Xenium","what":"Acquisition","title":"Zarr-based spatial transcriptomics overview","text":"","code":"jbr1 = JanesickBreastXeniumRep1() jbr1 ## class: SpatialData ## - images(2): ##   - morphology_focus (1,25778,35416) ##   - morphology_mip (1,25778,35416) ## - labels(0): ## - points(1): ##   - transcripts (42638083) ## - shapes(2): ##   - cell_boundaries (167780,circle) ##   - cell_circles (167780,circle) ## - tables(1): ##   - table (313,167780) ## coordinate systems: ## - global(5): morphology_focus morphology_mip cell_boundaries ##   cell_circles transcripts ## - aligned(5): morphology_focus morphology_mip cell_boundaries ##   cell_circles transcripts"},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/articles/ZarrBasedSpatialTranscriptomics.html","id":"cells-and-their-coordinates-1","dir":"Articles","previous_headings":"Example 2: Breast cancer Xenium","what":"Cells and their coordinates","title":"Zarr-based spatial transcriptomics overview","text":"simple features representation lends rapid sketching cell boundaries:","code":"shape(jbr1)@data |> sf::st_as_sf() ## Simple feature collection with 167780 features and 1 field ## Geometry type: POLYGON ## Dimension:     XY ## Bounding box:  xmin: 0 ymin: 0 xmax: 7525.688 ymax: 5477.612 ## CRS:           NA ## First 10 features: ##    cell_id                       geometry ## 1        1 POLYGON ((849.7875 322.3625... ## 2        2 POLYGON ((817.0625 321.0875... ## 3        3 POLYGON ((849.7875 329.1625... ## 4        4 POLYGON ((823.225 330.8625,... ## 5        5 POLYGON ((840.65 324.7, 835... ## 6        6 POLYGON ((847.2375 332.775,... ## 7        7 POLYGON ((836.4 333.2, 834.... ## 8        8 POLYGON ((828.1125 335.325,... ## 9        9 POLYGON ((844.6875 339.575,... ## 10      10 POLYGON ((840.0125 338.9375... cc = shape(jbr1)@data |> st_as_sf() |> tail(50000) plotSpatialData() + geom_sf(data=cc) ## Coordinate system already present. Adding new coordinate system, which will ## replace the existing one."},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Vince Carey. Author, maintainer.","code":""},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Carey V (2024). ZarrBasedSpatialTranscriptomics: R package NHGRI AnVIL, addressing spatialdata strategies scverse, implemented R/Bioconductor. R package version 0.0.3, https://github.com/vjcitn.","code":"@Manual{,   title = {ZarrBasedSpatialTranscriptomics: An R package for NHGRI AnVIL, addressing spatialdata strategies from scverse, implemented for R/Bioconductor},   author = {Vince Carey},   year = {2024},   note = {R package version 0.0.3},   url = {https://github.com/vjcitn}, }"},{"path":"https://github.com/vjcitn/ZarrBasedSpatialTranscriptomics/index.html","id":"zarrbasedspatialtranscriptomics","dir":"","previous_headings":"","what":"An R package for NHGRI AnVIL, addressing spatialdata strategies from scverse, implemented for R/Bioconductor","title":"An R package for NHGRI AnVIL, addressing spatialdata strategies from scverse, implemented for R/Bioconductor","text":"Note: software described development. Please file issues concerns. R package devoted interfacing Zarr-based spatial omics NHGRI AnVIL. code base spearheaded R Interoperability team CZI-sponsored, scverse-hosted hackathon Basel November 2024. necessary, install relevant packages via BiocManager::install(\"vjcitn/SpatialData\", ref=\"datamart\") December 2024 following resources investigation:  table can produced ","code":"library(SpatialData.data) example(demo_spatialdata)"}]
